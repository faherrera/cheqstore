@model IEnumerable<CheqStore.Models.Product>

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/Layouts/General/_Layout1.cshtml";
}

<h2>Nuestros Productos</h2>

<p>
    @Html.ActionLink("Create New", "Create")
</p>

<div class="row">
    <section class="menu-categories col s12 m3">
        <ul class="collection with-header">
            <li class="collection-header"><h4>Categorias</h4></li>
            
            @if (ViewBag.Categories != null)
            {

                foreach (var item in ViewBag.Categories)
                {
                    @*<li class="collection-item"> @Html.ActionLink(@item.Name,"Detail","Categories",new { id = @item.CategoryID })</li>*@
                    <li class="collection-item" style="display:flex"> <a href="./?category=@item.CategoryID" class="secondary-content" style="display:flex" >@item.Name<i class="material-icons">forward</i></a></li>
                }
            }

        </ul>
    </section>

    <section class="cards-products col s12 m9 ">
        <div class="row">
            @foreach (var item in Model)
            {

                string image = (string.IsNullOrEmpty(item.PathPhoto)) ? "http://www.bitaccora.com/images/portal/web/imagenblanco.jpg" : "/Uploads/" + item.PathPhoto;
                
                <div class="col s12 m4 ">
                    <div class="card hoverable">

                        <div class="card-image product-card__image--list">
                            <img src=@image >
                            <a class="btn-floating pulse halfway-fab waves-effect waves-light  teal darken-2 "><i class="material-icons">add_shopping_cart</i></a>
                        </div>

                        <div class="card-content">
                            <span class="card-title truncate" >@item.Name</span>
                             
                            <strong class="collection-item valign-wrapper">
                                <i class="material-icons ">monetization_on</i> Precio : @item.Price
                            </strong>

                        </div>

                        <div class="card-action right-align">

                            @Html.ActionLink("Ver más", "Details",new { id = item.ProductID }, new { @class="btn blue dark-3"})
                        </div>
                    </div>
                </div>

            }
        </div>

        <ul class="pagination center">
            <li class="disabled"><a href="#!"><i class="material-icons">chevron_left</i></a></li>
            <li class="active blue"><a href="#!">1</a></li>
            <li class="waves-effect"><a href="#!">2</a></li>
            <li class="waves-effect"><a href="#!">3</a></li>
            <li class="waves-effect"><a href="#!">4</a></li>
            <li class="waves-effect"><a href="#!">5</a></li>
            <li class="waves-effect"><a href="#!"><i class="material-icons">chevron_right</i></a></li>
        </ul>

    </section>

</div>
